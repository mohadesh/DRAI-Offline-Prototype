تابع read_single_file_robust