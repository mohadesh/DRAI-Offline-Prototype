{# Full dashboard: two OOB fragments so SVG loads once and rest can be polled separately (avoids SVG blinking). #}
{% if error %}
<div id="dashboard-rest-container" hx-swap-oob="innerHTML">
  <script type="application/json" id="dashboard-tag-values">{{ tag_values | tojson }}</script>
  <div class="rounded-xl border border-red-200 bg-red-50 p-4 text-red-800 shadow-sm dark:border-red-800 dark:bg-red-900/30 dark:text-red-200">
    <p class="font-medium">{{ error }}</p>
  </div>
</div>
{% elif current_data %}
<div id="dashboard-svg-container" hx-swap-oob="innerHTML">
  {% include 'partials/dashboard_svg.html' %}
</div>
<div id="dashboard-rest-container" hx-swap-oob="innerHTML">
  {% include 'partials/dashboard_rest.html' %}
</div>
{% else %}
<div id="dashboard-rest-container" hx-swap-oob="innerHTML">
  <script type="application/json" id="dashboard-tag-values">{{ tag_values | tojson }}</script>
  <div class="rounded-xl border border-slate-200 bg-slate-50 p-8 text-center dark:border-zinc-600 dark:bg-zinc-900">
    <p class="text-slate-600 dark:text-zinc-400">Waiting for simulation to start...</p>
  </div>
</div>
{% endif %}
