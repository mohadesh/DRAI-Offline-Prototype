# ─────────────────────────────────────────────────────────────────────────────
# DRAI Offline — Production environment variables
# Copy this file to .env in the directory where you run docker-compose,
# then fill in every value marked with <...>.
# ─────────────────────────────────────────────────────────────────────────────

# Docker image tag (set by build.sh, or pin to a specific version)
IMAGE_TAG=latest

# ── Traefik ───────────────────────────────────────────────────────────────────
# Name of the external Docker network Traefik is attached to
TRAEFIK_NETWORK=<traefik-network-name>

# Public hostname Traefik will route to this service
TRAEFIK_HOST=<drai.yourdomain.com>

# Traefik entrypoint name (usually "web" for HTTP or "websecure" for HTTPS)
TRAEFIK_ENTRYPOINT=web

# ── Flask ─────────────────────────────────────────────────────────────────────
# Strong random secret — generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=<replace-with-strong-random-secret>

# ── Gunicorn tuning ───────────────────────────────────────────────────────────
# Recommended: workers = (2 × CPU cores) + 1  |  threads = 2–4
GUNICORN_WORKERS=2
GUNICORN_THREADS=4
GUNICORN_TIMEOUT=120

# ── Logging ───────────────────────────────────────────────────────────────────
LOG_LEVEL=info

# ── Local dev only ────────────────────────────────────────────────────────────
# DEV_PORT=5000

# ── Simulated prediction mode ─────────────────────────────────────────────────
# When set to 1 (or true/yes/on), the dashboard bypasses the real ML models and
# instead derives predicted MD and C values from the actual MDNC_M_D / MDNC_C
# tags with ±5–15 % random noise (good for demos and environments without models).
# DRAI_SIMULATE_PREDICTIONS=1
